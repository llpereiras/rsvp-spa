<h1>
  {{title}}
</h1>

<div class="well">
  <label for="search_convidado">Pesquisar convidado</label>
  <input class="form-control" [(ngModel)]="convidado_selecionado" auto-complete [source]="convidados" />
  <label for="select_credencial">Selecione a credencial</label>
  <select class="form-control" [(ngModel)]="credencial_selecionada">
    <option *ngFor="let credencial of credenciais" [value]="credencial.id">{{credencial.descricao}}</option>
  </select>
  <br>
  <button type="button" class="btn btn-success" on-click="add(evento_selecionado)" [disabled]="saving" >
    <span class="glyphicon glyphicon-floppy-save" aria-hidden="true"></span> Adicionar
  </button>
  <button type="button" class="btn btn-warning pull-right" on-click="convidado_selecionado = ''" >
    <i class="fa fa-eraser" aria-hidden="true"></i>
    Limpar consulta
  </button>
</div>

<div class="row">
  <div class="col-xs-4 col-xs-offset-4 col-sm-4 col-sm-offset-0 col-lg-4 col-lg-offset-0">
    <h3 *ngIf="evento_selecionado">O evento acontecerá no dia {{evento_selecionado.data | date:"dd/MM/yyyy"}}</h3>
    <h3>Abaixo os já convidados para o evento</h3>
  </div>
</div>
<hr>

<div class="row">
  <div class="btn badge"></div>
</div>
<table class="table table-hover table-condensed" *ngFor="let ec of eventos_convidados">
  <tbody >
    <tr class="success">
      <td colspan="5" style="text-align: center;"> <strong> {{ec.convidado.nome}} </strong></td>
      <td>
        <button class="btn btn-info" routerLink="/convidados/{{ec.convidado.id}}">
          <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Editar
        </button>
      </td>
      <td>
        <button class="btn btn-danger" on-click="excluir(ec.id)">
          <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Excluir
        </button>
      </td>
    </tr>
    <tr class="convidado_info">
      <td><strong>E-mail</strong></td>
      <td><strong>Telefone</strong></td>
      <td><strong>Credencial</strong></td>
      <td><strong>Obs</strong>.</td>
      <td><strong>Convites</strong></td>
      <td><strong>Confirmado</strong>?</td>
      <td><strong>Presença</strong></td>
    </tr>
    <tr>
      <td>{{ec.convidado.email}}</td>
      <td>{{ec.convidado.telefone}}</td>
      <td>{{ec.credencial.descricao}}</td>
      <td>{{ec.observacoes}}</td>
      <td> convites X</td>
      <td>
        <span *ngIf="ec.confirmado">{{ec.confirmado}}</span>
        <span *ngIf="!ec.confirmado">
          <button class="btn btn-success btn-xs">
            <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
            Confirmar
          </button>
        </span>
      </td>
      <td>
        <span *ngIf="ec.hora_chegada">{{ec.hora_chegada}}</span>
        <span *ngIf="!ec.hora_chegada">
          <button class="btn btn-success btn-xs">
            <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
            Marcar presença</button>
        </span>
      </td>
    </tr>
    <tr>
      <td colspan="7">
        <hr>
      </td>
    </tr>
  </tbody>
</table>
